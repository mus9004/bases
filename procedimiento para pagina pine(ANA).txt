create or replace PROCEDURE P_INSERTAR_PIN_TABLERO(
    P_CODIGO_PINES OUT INTEGER,
    P_CODIGO_USUARIO INTEGER,
    P_CODIGO_TABLERO INTEGER,
    P_CODIGO_FOTO VARCHAR2,
    P_NOMBRE_PIN VARCHAR2,
    P_DIRECCION_URL VARCHAR2,
    P_DESCRIPCION VARCHAR2,
    P_CODIGO_RESULTADO OUT INTEGER,
    P_MENSAJE_RESULTADO OUT VARCHAR2
) AS
BEGIN
    P_CODIGO_PINES := SQ_CODIGO_PIN.NEXTVAL;
    INSERT INTO TBL_PINES (
        CODIGO_PINES,
        CODIGO_USUARIO,
        CODIGO_TABLERO,
        CODIGO_FOTO,
        NOMBRE_PIN,
        DIRECCION,
        DESCRIPCION
    ) VALUES (
        P_CODIGO_PINES,
        P_CODIGO_USUARIO,
        P_CODIGO_TABLERO,
        P_CODIGO_FOTO,
        P_NOMBRE_PIN,
        P_DIRECCION_URL,
        P_DESCRIPCION
    );
    COMMIT;
    P_CODIGO_RESULTADO := 1;
    P_MENSAJE_RESULTADO := 'PIN REGISTRADO CORRECTAMENTE';
EXCEPTION
    WHEN OTHERS THEN
        P_CODIGO_RESULTADO := 0;
        P_MENSAJE_RESULTADO := 'No se pudo insertar el pin.'||sqlerrm||', '||sqlcode;
        ROLLBACK;
END;
--secuencia
CREATE SEQUENCE SQ_CODIGO_PIN
INCREMENTY BY 1
START WITH 1